## 스프링 핵심 원리 - 기본편

### 2. 객체 지향 원리 적용

- [x] 새로운 할인 정책 개발
- [x] 새로운 할인 정책 적용과 문제점
- [x] 관심사의 분리
- [ ] AppConfig 리팩터링
- [ ] 새로운 구조와 할인 정책 적용
- [ ] 전체 흐름 정리
- [ ] IoC, DI, 그리고 컨테이너
- [ ] 스프링으로 전환하기


#### 새로은 할인 정책 적용과 문제점
추상(인터페이스) 뿐만 아니라 구체(구현) 클래스에도 의존하고 있다.
DIP 위반  
  
따라서 기능을 확장해서 변경하면 소스코드도 함께 변경해야 한다.
OCP 위반  
  
-> 인터페이스에만 의존하도록 설계를 변경하자!  
->> 누군가가 클라이언트에 구현 객체를 대신 생성하고 주입해주어야 한다.

#### 관심사의 분리

- 배우는 본인의 역할인 배역을 수행하는 것에만 집중해야 한다.
- 디카프리오는 어떤 여자 주인공이 선택되더라도 똑같이 공연을 할 수 있어야 한다.
- 공연을 구성하고, 담당배우를 섭되하고, 역할에 맞는 배우를 지저ㅇ하는 책임을 담당하는 별도의 '공연 기획자'가 나올 시점이다.
- 공연 기획자를 만들고, 배우와 공연 기획자의 책임을 확실하게 분리하자

------
#### AppConfig의 등장
- 애플리케이션의 전체 동작 방식을 구성(config)하기 위해, '구현 객체를 생성' 하고, '연결' 하는 책임을 가지는 별도의 설정 클래스를 만들자.

- AppConfig는 애플리케이션의 실제 동작에 필요한 '구현 객체를 생성'한다.
- AppConfig는 생성한 객체 인스턴스의 참조(레퍼런스)를 '생성자를 통해서 주입(연결) 해준다

생성자 주입을 통해 '의존관계에 대한 고민은 외부'에 맡기고 '실행에만 집중'하면 된다.  
- 클라이언트 입장에서 보면 의존관계를 마치 외부에서 주입해주는 것 같다고 해서 DI(Dependency Injection) 의존관계 주입 또는 의존성 주입이라고 한다.


#### 정리
- AppConfig를 통해 관심사를 확실하게 분리
- AppConfig는 구체 클래스를 선택한다. 애플리케이션이 어떻게 동작해야 할지 전체 구성을 책임진다.
- 
